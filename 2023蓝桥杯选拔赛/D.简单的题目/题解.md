# 简单的题目题解

## 50% 分数解法

按题目描述正确计算即可，不会爆 `int`，轻松拿下 50%，核心代码如下：

```c
for (int i = 1; i <= n; ++i) {
    if (a % 2 == 0) {
        a /= 2;
    } else {
        a = a * 3 + 1;
    }
}
```

## 100% 分数解法

通过手推可以发现，似乎最终总是会回到 $1\to4\to2\to1$ 的循环上，可以手写代码从 $1$ 到 $10^5$ 验证都能满足这个规律，所以可以先跑 $n$ 次，如果 $n$ 次跑完还没有到 $1$，就使用 $n$ 次后 $a$ 的值，如果在 $n$ 次内先到达了 $1$，就计算 $n$ 与当前次数的差值，对周期 $3$ 取余可以快速得到结果。

注意 $a_0=0$ 时永远为 $0$。

AC 代码如下：

```c
#include <stdio.h>
int T, a;
long long n;
int num[3] = {1, 4, 2};

int main() {
    scanf("%d", &T);
    while (T--) {
        scanf("%d%lld", &a, &n);
        if (a == 0) {
            printf("0\n");
            continue;
        }
        long long cnt = -1;
        for (int i = 1; i <= n; ++i) {
            if (a % 2 == 0) {
                a /= 2;
            } else {
                a = a * 3 + 1;
            }
            if (a == 1) {
                cnt = i;
                break;
            }
        }
        if (cnt == -1) {
            printf("%d\n", a);
            continue;
        }
        printf("%d\n", num[(n - cnt) % 3]);
    }

    return 0;
}
```

## 数据生成

随机数据生成代码如下，其中 `std.exe` 为标程 `exe` 文件

```cpp
#include <bits/stdc++.h>
using namespace std;

typedef long long LL;
const int testCases = 50;
ofstream fout;

string numToStr(int x) {
    string str;
    while (x != 0) {
        str = char('0' + x % 10) + str;
        x /= 10;
    }
    return str;
}

string getFileInName(int index) {
    return "data/" + numToStr(index) + ".in";
}

string getFileOutName(int index) {
    return "data/" + numToStr(index) + ".out";
}

LL getRand(LL l, LL r) {
    return (LL)rand() * rand() * rand() % (r - l + 1) + l;
}

void writeToFile(int fileIdx, LL l, LL r) {
    string fileInName = getFileInName(fileIdx);
    fout.open(fileInName);
    LL e5 = 1e5;
    int T = getRand(90, 100);
    int idx = getRand(1, T);
    fout << T << endl;
    for (int i = 1; i <= T; ++i) {
        int a = 0;
        if (idx != i) {
            a = getRand(1, e5);
        }
        LL n = getRand(l, r);
        fout << a << " " << n << endl;
    }
    fout.close();
    string fileOutName = getFileOutName(fileIdx);
    system(("std.exe < " + fileInName  + " > " + fileOutName).c_str());
}

int main() {
    srand(time(0));

    LL e5 = 1e5;
    LL e10 = 1e10;
    LL e11 = 1e11;

    for (int i = 1; i <= testCases; ++i) {
        if (i % 2 == 0) {
            writeToFile(i, 1, e5);
        } else {
            writeToFile(i, e10, e11);
        }
    }

    return 0;
}
```

